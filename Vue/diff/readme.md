# 虚拟DOM

1. 虚拟DOM是vue中的编译器将模板代码编译成 对象

# diff
1. 将新老 VDOM 的不同点找到并生成一个补丁

- 过程

1. 同层比较，是不是相同的结点，不相同直接废弃老DOM
2. 是相同结点，比较结点上的属性，产生一个补丁包
3. 继续比较下一层的子节点，采用双端对列的方式，尽量复用，产生一个补丁包
4. 同上

# vue 中为什么不建议使用index做key

- 为什么要有key？
让diff比较的效率更高

- 为什么不能用index？
因为index是数组下标，下标永远是固定的位置，从0开始，哪怕数据只是发生了位置变更，key就会不一样
这就会导致原本可以复用的结点被认定为不可复用，浪费渲染性能

- 可不可以用随机数做key？
NO，每一次数据更新以后，随机数都会变化
